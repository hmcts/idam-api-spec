language: java
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - $HOME/.gradle/caches/
  - $HOME/.gradle/wrapper/
script:
- ./gradlew build
deploy:
- provider: script
  script: ./gradlew bintrayUpload
  skip_cleanup: true
  on:
    repo: hmcts/idam-api-spec
    tags: true
env:
  global:
  - secure: oIz185r6evlz3TMP1GN1mPi0O4zbRhGcLiYUAW/HNGLG+JCtVyxKz9Zq7SA8zX/rT6+wX/1mEd848aq4H4SwTNU3Ewlo1AY1kYew428cn95WwpOE62JaF7OJBBC/6T+WKm+GC/Tr9zd6cU+guLELFlZTv+fe8Ptdwe/JJ4Mj++aUwq41UqjphcXvwtp79cqLaCz2mCfcgbfBSv9Mz94ccmIodydwVj9mti8BtKwnyNEAnSrXyuLLluuNxPBlhqHcMWeU3wDCKsUwP+G0ioELNdZfEbq+X9lYmYN5lKmVlqxg8F3Jvy6CKFq3fEY3X8rc404FoFOXuzRKSyb4B05nDiK/dX6ojY+tLsOr/H5zL9RiP/eRfnNLI+QJjvpAEKNpK2KUY9yPU772FNzn5wY0a1DazCrBlQdsbe7VJZakxZ0XZZZgQ/79WCyjXvBgejTcJnK5oblKtGhPrsqXyeV5Uwqi3sUttqpoUaP1lWL9//9zXgASekW/AbeO8QEz9aL13I/RtxDEyGrAAdg37Cdn+6GMw6O1UjQIxq3YY+Wkn9NKMTPmM5Pi+8Xoio3szld2Qyk5L1UNX4gPp8V3YpFVyHuMTzFULBVMqMtIqxapRqrrIYAVBxFj9NrPUl7y9PNoV0Ni6vd9dELspyWPm0ju/45EtBa1HepS2BXFeiFASVk=
  - secure: AFx0T6+Kay/u74SiXVophuHxyS9H3sLkhf1rgZbHPoS6e7KJbmjUtH/tTmy+Y8U4OFJ7NuYQWLHwtlde2adW2Lxp32LhixMsqvFxGKt5NQjglZLNHpvjzKWVeNumJb08FOEBN0hDVfHWLJH7Eb2DIE1D/BvhIvROAnIWE22qbobgQR6+34kT1KqJA3sW3H1PbAS3+HbAKvYwAmVIc6h8/ZJyBgpfA0vxrGWtJM9yc6GRhevuqOtXOcMGhqU/cE34BpSqLqnhiSwQqmmNUk0KDuhtytpw7oONIiflM9I3kpZ9f9MIE6xx1kfMxdEgRQotqLjEiiz+O3645SOaDvTEpZ0KNoNpEjBnoHA6uYV29wAzlE2TvuKrX5+cG47QesDJpDBCdMS+/lHb3rIGTNqYC5SN0aHHyiFqAUQTPws66NQ4TEwEd8GCM/4QFY601mJ3a6TQFz/cL+NfwIc+ZziNAHq9zdJD0+EAZ2i0/yd27o+zVoyyQDOCJWHn/71Lc12lkDZwU2xH0KSMI1T0qJkzuCIE0PLfJUT1yjE/TWZvkHf11iVew5FUmKdz0nD7/K9DrfKJHCh+H7jp0awM09rMNDEE/lQFgfNnNOXxqTECn+CY3hweNZP7VVCkAWhYtIeWgR+xUqzYaydGyPgym+1/Zo8Mid4FPN4dcUtY8pO0McA=
